<div class="wizard-container">
  <div class="wizard-header">
    <mat-icon class="wizard-icon">search</mat-icon>
    <h2>Company Search Wizard</h2>
    <button mat-icon-button (click)="close()" class="close-btn">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <div class="search-criteria">
    <div class="criteria-row">
      <label>Criteria :</label>
      <mat-form-field appearance="outline">
        <mat-select [(value)]="searchType" (selectionChange)="onCriteriaChange()">
          <mat-option value="companyId">Company ID</mat-option>
          <mat-option value="companyFullName">Company Full Name</mat-option>
          <mat-option value="companyShortName">Company Short Name</mat-option>
          <mat-option value="contactPerson">Contact Person</mat-option>
        </mat-select>
      </mat-form-field>
      
      <label>Search For :</label>
      <mat-form-field appearance="outline">
        <input matInput [(ngModel)]="searchValue" (input)="onSearchChange()" placeholder="Enter search term">
      </mat-form-field>
    </div>
  </div>

  <div class="table-container">
    <h3>Company Information Table</h3>
    <div class="table-wrapper">
      <table mat-table [dataSource]="dataSource" class="companies-table">
        <ng-container matColumnDef="companyId">
          <th mat-header-cell *matHeaderCellDef>Company ID</th>
          <td mat-cell *matCellDef="let company" (click)="selectCompany(company)" class="clickable-cell">
            {{ company.companyId }}
          </td>
        </ng-container>

        <ng-container matColumnDef="companyFullName">
          <th mat-header-cell *matHeaderCellDef>Company Full Name</th>
          <td mat-cell *matCellDef="let company" (click)="selectCompany(company)" class="clickable-cell">
            {{ company.companyFullName }}
          </td>
        </ng-container>

        <ng-container matColumnDef="companyShortName">
          <th mat-header-cell *matHeaderCellDef>Company Short Name</th>
          <td mat-cell *matCellDef="let company" (click)="selectCompany(company)" class="clickable-cell">
            {{ company.companyShortName }}
          </td>
        </ng-container>

        <ng-container matColumnDef="companyAddress">
          <th mat-header-cell *matHeaderCellDef>Company Address</th>
          <td mat-cell *matCellDef="let company" (click)="selectCompany(company)" class="clickable-cell">
            {{ company.companyAddress }}
          </td>
        </ng-container>

        <ng-container matColumnDef="contactPerson">
          <th mat-header-cell *matHeaderCellDef>Contact Person</th>
          <td mat-cell *matCellDef="let company" (click)="selectCompany(company)" class="clickable-cell">
            {{ company.contactPerson }}
          </td>
        </ng-container>

        <ng-container matColumnDef="phoneNumber">
          <th mat-header-cell *matHeaderCellDef>Phone Number</th>
          <td mat-cell *matCellDef="let company" (click)="selectCompany(company)" class="clickable-cell">
            {{ company.phoneNumber }}
          </td>
        </ng-container>

        <ng-container matColumnDef="discountAllowed">
          <th mat-header-cell *matHeaderCellDef>Discount Allowed</th>
          <td mat-cell *matCellDef="let company" (click)="selectCompany(company)" class="clickable-cell">
            {{ company.discountAllowed }}%
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="company-row"></tr>
      </table>
    </div>
  </div>

  <div class="wizard-actions">
    <button mat-raised-button (click)="close()" [disabled]="isLoading">
      <mat-icon>close</mat-icon>
      Close
    </button>
  </div>
</div>